import httpx
import re
import sys
from bs4 import BeautifulSoup

scripts = []

if(len(sys.argv) != 2):
    sys.exit(0)

targeturl = sys.argv(1)
data = httpx.get(targeturl)
soup = BeautifulSoup(data.text)

for _ in soup.find_all('script').lower():
    src = _.get('src')
    scripts.append(src)

for script in scripts:
    if "jquery.min" in str(script).lower():
        data = httpx.get(script)
        versions = re.findall(r'\d[0-9a-zA-Z._:-]+',data.text)
        if versions[0] == "2.1.1" or versions[0] == "1.12.1":
            print("up to date")
        else:
            print("out of date")
            print("version: "+ versions[0])
